<app-header>

</app-header>

<ion-content *ngIf="role === 'ROLE_UTILISATEUR_AGENCE'">

  <ion-card >
    <ion-segment (ionChange)="segmentChanged($event)" value="list">
      <ion-segment-button value="list"  style="border-bottom: solid 2px #16a7be;" *ngIf="role !== 'ROLE_UTILISATEUR_AGENCE'">
        <ion-label>Users</ion-label>
        <ion-select value="depot">
          <ion-select-option value="depot">depot</ion-select-option>
          <ion-select-option value="retrait">retrait</ion-select-option>
        </ion-select>
      </ion-segment-button>
      <ion-segment-button value="list"  style="border-bottom: solid 2px #16a7be;">
        <ion-label>Type</ion-label>
        <ion-select value="depot">
          <ion-select-option value="depot">depot</ion-select-option>
          <ion-select-option value="retrait">retrait</ion-select-option>
        </ion-select>
      </ion-segment-button>
      <ion-segment-button value="list" style="
  border-bottom: solid 2px #16a7be;">
        <ion-label>Du</ion-label>
        <ion-select value="1996">
          <ion-select-option value="1998">1998</ion-select-option>
          <ion-select-option value="1999">1999</ion-select-option>
        </ion-select>
      </ion-segment-button>
      <ion-segment-button value="list"  style="
  border-bottom: solid 2px #16a7be;">
        <ion-label>Au</ion-label>
        <ion-select value="1996">
          <ion-select-option value="1997">1997</ion-select-option>
          <ion-select-option value="1998">1998</ion-select-option>
          <ion-select-option value="1999">1999</ion-select-option>
        </ion-select>
      </ion-segment-button>
    </ion-segment>


    <ion-list
      class="animate__animated animate__slideInUp animate__fast"
      *ngIf="segment === 'list'"
    >
      <ion-card>
        <ion-row style="border-bottom: groove;">
          <ion-col col-3  *ngIf="role !== 'ROLE_UTILISATEUR_AGENCE'">
            <ion-label >Users</ion-label>
          </ion-col>
          <ion-col col-3>
            <ion-label >Date</ion-label>
          </ion-col>
          <ion-col col-3>
            <ion-label >Type</ion-label>
          </ion-col>
          <ion-col col-3>
            <ion-label >Montant</ion-label>
          </ion-col>
          <ion-col col-3 *ngIf="role !== 'ROLE_UTILISATEUR_AGENCE'">
            <ion-label >Frais</ion-label>
          </ion-col>
        </ion-row>
        <ion-row style="border-bottom: groove;" *ngFor="let trans of transactions">
          <ion-col col-3 *ngIf="role !== 'ROLE_UTILISATEUR_AGENCE'">
            <ion-label *ngIf="trans.type === 'depot'; else other">{{trans.user_depot.prenom}} {{trans.user_depot.nom}}</ion-label>
            <ng-template #other>
              <ion-label>{{trans.user_retrait.prenom}} {{trans.user_retrait.nom}}</ion-label>
            </ng-template>
          </ion-col>
          <ion-col col-3>
            <ion-label >{{trans.date_depot | date: 'dd/MM/yyyy'}}</ion-label>
          </ion-col>
          <ion-col col-3>
            <ion-label >{{trans.type}}</ion-label>
          </ion-col>
          <ion-col col-3>
            <ion-label >{{trans.montant}}</ion-label>
          </ion-col>
          <ion-col col-3 *ngIf="role !== 'ROLE_UTILISATEUR_AGENCE'">
            <ion-label >{{trans.frais}}</ion-label>
          </ion-col>
        </ion-row>
      </ion-card>
    </ion-list>
    <ion-card>
      <ion-item lines="full" style="width: 40%; float: right">
        <ion-label position="floating" color="medium">Total</ion-label>
        <ion-input type="number" [value]="total" readonly style="color: orangered"></ion-input>
      </ion-item>
    </ion-card>

  </ion-card>
</ion-content>

<app-footer></app-footer>
